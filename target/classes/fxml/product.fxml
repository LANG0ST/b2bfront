<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.fx.b2bfront.controller.product.ProductController"
            prefWidth="1400" prefHeight="900"
            stylesheets="@../style/product.css">

    <!-- TOP NAVBAR -->
    <top>
        <fx:include source="components/Navbar.fxml"/>
    </top>

    <!-- MAIN CONTENT -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
            <content>

                <!-- Center everything -->
                <VBox alignment="TOP_CENTER" spacing="30">

                    <!-- Responsive width wrapper -->
                    <VBox styleClass="product-root"
                          maxWidth="1200"
                          alignment="TOP_CENTER"
                          spacing="30">
                        <padding>
                            <Insets top="30" right="20" bottom="50" left="20"/>
                        </padding>

                        <!-- MAIN PRODUCT AREA -->
                        <HBox spacing="30" alignment="TOP_CENTER"
                              styleClass="product-main">

                            <!-- LEFT: IMAGE / GALLERY -->
                            <StackPane styleClass="product-image-wrapper"
                                       alignment="CENTER">
                                <Pane fx:id="imagePane"
                                      styleClass="product-image-pane"/>

                                <!-- Arrows (not functional yet) -->
                                <Button styleClass="image-nav-button"
                                        text="‹"
                                        StackPane.alignment="CENTER_LEFT"/>
                                <Button styleClass="image-nav-button"
                                        text="›"
                                        StackPane.alignment="CENTER_RIGHT"/>
                            </StackPane>

                            <!-- RIGHT: INFO -->
                            <VBox spacing="18" prefWidth="450"
                                  styleClass="product-info">

                                <Label fx:id="productNameLabel"
                                       text="Machine"
                                       styleClass="product-title"/>

                                <Label fx:id="productPriceLabel"
                                       text="0.00 MAD"
                                       styleClass="product-price"/>

                                <Label fx:id="productDescriptionLabel"
                                       text=""
                                       wrapText="true"
                                       styleClass="product-description"/>

                                <!-- SPECIFICATIONS -->
                                <GridPane hgap="20" vgap="6" styleClass="product-specs"
                                          prefWidth="450">

                                    <columnConstraints>
                                        <ColumnConstraints halignment="RIGHT" percentWidth="35"/>
                                        <ColumnConstraints halignment="LEFT" percentWidth="65"/>
                                    </columnConstraints>

                                    <Label text="Type :" styleClass="spec-label"
                                           GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                                    <Label fx:id="specType" styleClass="spec-value"
                                           GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                                    <Label text="Puissance :" styleClass="spec-label"
                                           GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                                    <Label fx:id="specPower" styleClass="spec-value"
                                           GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                                    <Label text="Poids :" styleClass="spec-label"
                                           GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                                    <Label fx:id="specWeight" styleClass="spec-value"
                                           GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                                    <Label text="Carburant :" styleClass="spec-label"
                                           GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                                    <Label fx:id="specFuel" styleClass="spec-value"
                                           GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                                </GridPane>

                                <!-- QUANTITY + ACTIONS -->
                                <VBox spacing="15">

                                    <!-- Quantity row -->
                                    <HBox spacing="12" alignment="CENTER_LEFT">

                                        <Label text="Quantité :" styleClass="spec-label"/>

                                        <HBox spacing="0" alignment="CENTER"
                                              styleClass="qty-box">

                                            <Button fx:id="btnMinus"
                                                    text="-"
                                                    onAction="#decreaseQuantity"
                                                    styleClass="qty-button"/>

                                            <Label fx:id="quantityLabel"
                                                   text="1"
                                                   styleClass="qty-value"/>

                                            <Button fx:id="btnPlus"
                                                    text="+"
                                                    onAction="#increaseQuantity"
                                                    styleClass="qty-button"/>
                                        </HBox>
                                    </HBox>

                                    <!-- Buttons row -->
                                    <HBox spacing="12">
                                        <Button fx:id="btnAddToCart"
                                                text="Ajouter au devis"
                                                styleClass="primary-button"/>
                                        <Button fx:id="btnBuyNow"
                                                text="Commander maintenant"
                                                styleClass="secondary-button"/>
                                    </HBox>
                                </VBox>

                            </VBox>
                        </HBox>

                        <!-- REVIEWS SECTION -->
                        <VBox spacing="15" alignment="TOP_LEFT"
                              styleClass="reviews-section">

                            <HBox spacing="15" alignment="CENTER_LEFT">
                                <Label text="Avis récents"
                                       styleClass="reviews-title"/>

                                <Button text="Voir tous les avis →"
                                        fx:id="btnSeeAllReviews"
                                        styleClass="see-all-reviews-btn"/>

                            </HBox>

                            <HBox fx:id="reviewsContainer"
                                  spacing="20"
                                  styleClass="reviews-container"/>
                        </VBox>

                    </VBox>
                </VBox>
            </content>
        </ScrollPane>
    </center>

</BorderPane>